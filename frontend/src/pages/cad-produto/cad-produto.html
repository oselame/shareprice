<ion-header>
  <ion-navbar>
    <ion-title>Quero Cerveja ;-)</ion-title>    
  </ion-navbar>
</ion-header>

<ion-content>
    <form #cervejaForm="ngForm" (ngSubmit)="postar()">
        <ion-list>
            <ion-list-header>
                <h2>Cerveja</h2>
            </ion-list-header>
            
            <div class="center">                
                <img  width="200" height="200" [src]="produto.icon">
            </div>
            
            <ion-item>            
                <ion-label>Marca</ion-label>            
                    <ion-select [ngModel]="produto.marca.cdmarca" (ngModelChange)="onChangeMarca($event)" name="cdmarca">
                        <ion-option [value]="marca.cdmarca" *ngFor="let marca of marcas">
                            {{ marca.descricao }}
                        </ion-option>
                    </ion-select>
            </ion-item>
            
            <ion-item>            
                <ion-label>Tipo</ion-label>                        
                <ion-select [ngModel]="produto.tipo.cdtipo" (ngModelChange)="onChangeTipo($event)" name="cdtipo">                                
                    <ion-option [value]="tipo.cdtipo" *ngFor="let tipo of tipos">
                        {{ tipo.descricao }}
                    </ion-option>
                </ion-select>            
            </ion-item>

            <ion-item>            
                <ion-label>Medida</ion-label>
                <ion-select [ngModel]="produto.medida.cdmedida" (ngModelChange)="onChangeMedida($event)" name="cdmedida">                                
                    <ion-option [value]="medida.cdmedida" *ngFor="let medida of medidas" >
                        {{ medida.descricao }}
                    </ion-option>
                </ion-select>
            </ion-item>
            
            <ion-item>            
                <ion-label>Preço R$</ion-label>
                <ion-input #preco="ngModel" type="number" [(ngModel)]="produto.preco" required name="preco"></ion-input>
            </ion-item>

            <ion-item [hidden]="preco.valid || preco.pristine" class="alert alert-danger">
                <p class="help-block">O campo preço deve ser preenchido.</p>                
            </ion-item>
        
            <ion-list-header>
                <h2>Estabelicimento</h2>
            </ion-list-header>
            <ion-item>
                <ion-thumbnail item-left>
                    <img [src]="produto.loja.icon">
                </ion-thumbnail>
                <h2>{{produto.loja.nome}}</h2>                        
                <p>{{produto.loja.vicinity}}</p>
            </ion-item>
        </ion-list>

        <p align="right">
            <button type="submit" ion-button [disabled]="!cervejaForm.form.valid">                
                Publicar
            </button>
        </p>
    </form>
</ion-content>

<!-- 
    value="{{produto.preco | currency:'BRL'}}"
-->
